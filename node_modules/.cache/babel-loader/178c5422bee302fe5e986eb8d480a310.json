{"ast":null,"code":"import _objectSpread from\"/samba/Journal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/samba/Journal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef}from'react';import{NotesAppBar}from'./NotesAppBar';import{useSelector,useDispatch}from'react-redux';import{useForm}from'../../hooks/useForm';import{activeNote,startDeleting}from'../../actions/notes';export var NoteScreen=function NoteScreen(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.notes;}),note=_useSelector.active;var _useForm=useForm(note),_useForm2=_slicedToArray(_useForm,3),formValues=_useForm2[0],handleInputChange=_useForm2[1],reset=_useForm2[2];var body=formValues.body,title=formValues.title,id=formValues.id;var activeId=useRef(note.id);useEffect(function(){if(note.id!==activeId.current){reset(note);activeId.current=note.id;}},[note,reset]);useEffect(function(){dispatch(activeNote(formValues.id,_objectSpread({},formValues)));},[formValues,dispatch]);var handleDelete=function handleDelete(){dispatch(startDeleting(id));};return/*#__PURE__*/React.createElement(\"div\",{className:\"notes__main-content\"},/*#__PURE__*/React.createElement(NotesAppBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"notes__content\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Some awesome\",className:\"notes__title-input\",name:\"title\",autoComplete:\"off\",value:title,onChange:handleInputChange}),/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"What happened today?\",className:\"notes__textarea\",name:\"body\",value:body,onChange:handleInputChange}),note.url&&/*#__PURE__*/React.createElement(\"div\",{className:\"notes__image\"},/*#__PURE__*/React.createElement(\"img\",{src:note.url,alt:\"img\"}))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\",onClick:handleDelete},\"Delete\"));};","map":{"version":3,"sources":["/samba/Journal/src/components/notes/NoteScreen.js"],"names":["React","useEffect","useRef","NotesAppBar","useSelector","useDispatch","useForm","activeNote","startDeleting","NoteScreen","dispatch","state","notes","note","active","formValues","handleInputChange","reset","body","title","id","activeId","current","handleDelete","url"],"mappings":"yQAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,KAAyC,OAAzC,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,OAASC,UAAT,CAAqBC,aAArB,KAA0C,qBAA1C,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAE5B,GAAMC,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CAEA,iBAAsBD,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACC,KAAV,EAAN,CAAjC,CAAcC,IAAd,cAAOC,MAAP,CACA,aAA+CR,OAAO,CAAEO,IAAF,CAAtD,sCAAOE,UAAP,cAAmBC,iBAAnB,cAAsCC,KAAtC,cACA,GAAOC,CAAAA,IAAP,CAA0BH,UAA1B,CAAOG,IAAP,CAAaC,KAAb,CAA0BJ,UAA1B,CAAaI,KAAb,CAAoBC,EAApB,CAA0BL,UAA1B,CAAoBK,EAApB,CAEA,GAAMC,CAAAA,QAAQ,CAAGnB,MAAM,CAACW,IAAI,CAACO,EAAN,CAAvB,CAEAnB,SAAS,CAAC,UAAM,CACZ,GAAGY,IAAI,CAACO,EAAL,GAAYC,QAAQ,CAACC,OAAxB,CAAoC,CAChCL,KAAK,CAAEJ,IAAF,CAAL,CACAQ,QAAQ,CAACC,OAAT,CAAmBT,IAAI,CAACO,EAAxB,CACH,CAEJ,CANQ,CAMN,CAACP,IAAD,CAAOI,KAAP,CANM,CAAT,CAQAhB,SAAS,CAAC,UAAI,CAEVS,QAAQ,CAACH,UAAU,CAACQ,UAAU,CAACK,EAAZ,kBAAqBL,UAArB,EAAX,CAAR,CAEH,CAJQ,CAIP,CAACA,UAAD,CAAaL,QAAb,CAJO,CAAT,CAMA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBb,QAAQ,CAAEF,aAAa,CAAEY,EAAF,CAAf,CAAR,CACH,CAFD,CAKA,mBACI,2BAAK,SAAS,CAAC,qBAAf,eAEI,oBAAC,WAAD,MAFJ,cAII,2BAAK,SAAS,CAAC,gBAAf,eAEI,6BACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,cAFhB,CAGI,SAAS,CAAC,oBAHd,CAII,IAAI,CAAE,OAJV,CAKI,YAAY,CAAC,KALjB,CAMI,KAAK,CAAGD,KANZ,CAOI,QAAQ,CAAGH,iBAPf,EAFJ,cAYI,gCACI,WAAW,CAAC,sBADhB,CAEI,SAAS,CAAC,iBAFd,CAGI,IAAI,CAAE,MAHV,CAII,KAAK,CAAGE,IAJZ,CAKI,QAAQ,CAAGF,iBALf,EAZJ,CAqBKH,IAAI,CAACW,GAAN,eAEI,2BAAK,SAAS,CAAC,cAAf,eACI,2BACI,GAAG,CAAGX,IAAI,CAACW,GADf,CAEI,GAAG,CAAC,KAFR,EADJ,CAvBR,CAJJ,cAsCI,8BACI,SAAS,CAAC,gBADd,CAEI,OAAO,CAAGD,YAFd,WAtCJ,CADJ,CAiDH,CA9EM","sourcesContent":["import React, { useEffect, useRef } from 'react'\r\nimport { NotesAppBar } from './NotesAppBar'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useForm } from '../../hooks/useForm'\r\nimport { activeNote, startDeleting } from '../../actions/notes'\r\n\r\nexport const NoteScreen = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const {active:note} = useSelector(state => state.notes)     \r\n    const [formValues, handleInputChange, reset] = useForm( note );\r\n    const {body, title, id} = formValues;\r\n\r\n    const activeId = useRef(note.id)\r\n\r\n    useEffect(() => {\r\n        if(note.id !== activeId.current)    {\r\n            reset( note )\r\n            activeId.current = note.id\r\n        }\r\n\r\n    }, [note, reset ])\r\n\r\n    useEffect(()=>{\r\n        \r\n        dispatch(activeNote(formValues.id, { ...formValues }))\r\n        \r\n    },[formValues, dispatch])\r\n\r\n    const handleDelete = () => {\r\n        dispatch( startDeleting( id ) );\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"notes__main-content\">\r\n            \r\n            <NotesAppBar />\r\n\r\n            <div className=\"notes__content\">\r\n\r\n                <input \r\n                    type=\"text\"\r\n                    placeholder=\"Some awesome\"\r\n                    className=\"notes__title-input\"\r\n                    name= \"title\"\r\n                    autoComplete=\"off\"\r\n                    value={ title }\r\n                    onChange={ handleInputChange }\r\n                />\r\n\r\n                <textarea \r\n                    placeholder=\"What happened today?\"\r\n                    className=\"notes__textarea\"\r\n                    name= \"body\"\r\n                    value={ body }\r\n                    onChange={ handleInputChange }\r\n                ></textarea>\r\n            {\r\n\r\n                (note.url) \r\n                && (\r\n                    <div className=\"notes__image\">\r\n                        <img \r\n                            src= {note.url}\r\n                            alt=\"img\"\r\n                        />\r\n                    </div>\r\n                )\r\n            \r\n            }\r\n                </div>\r\n            \r\n            <button\r\n                className=\"btn btn-danger\"\r\n                onClick= {handleDelete}\r\n            >\r\n                Delete\r\n            </button>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}